---
# Pandoc
title: MTurk Instruction - Admin
author: Jiahao Zhang
date: Mar. 5, 2022
documentclass: article
papersize: a4
geometry: margin=2.5cm
mainfont: Calibri
sansfont: Calibri
monofont: JetBrains Mono
fontsize: 11pt
listings: true
toc: true
linkcolor: Cyan
filecolor: Cyan
citecolor: Cyan
urlcolor: Cyan
# Eisvogel
titlepage: true
logo: img/davidz.png
header-right: Jiahao Zhang
toc-own-page: true
table-use-row-colors: false
listings-no-page-break: false
code-block-font-size: \normalsize
footer-left: "\\footerlogo"
header-includes:
  - |
    ```{=latex}
    \newcommand{\footerlogo}{\includegraphics[width=2cm]{img/anu.png}}
    ```
# Crossref
subfigGrid: true
autoSectionLabels: true
---

> Issues related to MTurk Management, please create issues [here](https://github.com/DavidZhang73/MTurkManagement/issues).
>
> Issues related to Vidat, please create issues [here](https://github.com/anucvml/vidat/issues).

# Log in MTurk Management

[MTurk Management](https://mturk.davidz.cn)

> User: `admin`
>
> Pass: `adminadmin`

![Login.](img/step0-1.png)

# Load Tasks into a New Batch

![Go to the Batch tab.](img/step0-2.png)

![Click button `New Batch from JSON` and enter a description for this batch. Every click loads all tasks from the source into a new batch for convenient bulk delete operation.](img/step0-3.png)

> - `New Batch from JSON`: Make sure `DATASET_PATH` and `DATASET_JSON_NAME` are defined correctly in the `task/settings`.
> - `New Batch from MongoDB`: Deprecated.
> - `REVIEW` review the result in MTurk. This is available only after you have uploaded the batch to MTurk and have synced with MTurk in the Task tab. Make sure `MTURK_BATCH_REVIEW` is defined correctly in the `task/settings`.

# Get Task CSV

![Go to Task tab.](img/step0-4.png)

![Filter by batch and then export tasks. If no task is selected, all tasks are exported by default.](img/step0-5.png)

![Choose `csv` (default) and Submit. Save the csv file to your local computer.](img/step0-6.png)

# Sign In MTurk Requester Sandbox

[MTurk Requester Sandbox](https://requestersandbox.mturk.com/signin_options)

# Start a New Project

> We will use the `Survey Link` template. Just follow the instruction.

![Start a new project.](img/start-a-project.png)

![Fill in the blanks.](img/step2-1.png)

![Fill in the blanks.](img/step2-2.png)

![Fill in the blanks.](img/step2-3.png)

![Click the `Source` button.](img/step3-1.png)

![The proposed template is provided on [GitHub](https://github.com/DavidZhang73/MTurkManagement/blob/main/MTurkFrontend/index.html).](img/step3-2.png)

![Preview and finish.](img/step4.png)

# Publish Hits (Human Intelligence Tasks)

![New batch with existing project.](img/step5-1.png)

![Publish batch.](img/step5-2.png)

![Select the csv file generated by MTurk Management and Upload.](img/step5-3.png)

![Wait for uploading, preview the task and click Next if there is no issue.](img/step5-4.png)

![Confirm and publish batch.](img/step5-5.png)

# Sync With MTurk

> This step is needed whenever a new batch is uploaded to MTurk.

![Go to Task tab.](img/step6-1.png)

![Click the button `Sync With MTurk`. This will help obtain the corresponding `HITIDd`, `HITStatus`, `HITExpretion` and `BatchId`.](img/step6-2.png)

# Audit Submissions

![Go to Assignment tab.](img/step7-1.png)

> STATUS:
>
> - `Created` annotation is submitted via Vidat
> - `Submitted` submission code is submitted via MTurk
> - `Approved` the assignment is approved
> - `Rejected` the assignment is rejected
> - `Unknown` unknown situation

![Click button `Sync With MTurk` to obtain assignment related data. It could be slow, please wait with patient.](img/step6-2.png)

> `Sync With MTurk` will iterate over all assignments with given HITIds in the Task tab. If the submission code (assignment id) and the HITId (task id) matches, the assignment will be marked as `Submitted`, or, it will be rejected automatically.
>
> E.g.
>
> - submission code is not in UUID format: rejected automatically
> - submission code is not for this task: rejected automatically
> - submission code could not be found: rejected automatically

![Audit Assignments with `Submitted` status. A status filter can be helpful.](img/step6-3.png)

> Some attributes could be helpful for audit
>
> - `#STEP` number of steps in this task, `#ANNOTATED STEP` number of annotated steps in this assignment, if `#ANNOTATED STEP` is significant less than `#STEP`, there could be some issues.
> - `Work Time` the time it takes the worker from accepting the HIT to submitting the HIT. If it is too short, then the quality of the annotation could be low.
> - `MTURK WORKER FEEDBACK` feedback from the worker.

![Submit back to MTurk Management if there need to be some modifications, if not just close Vidat.](img/step6-4.png)

![Approve or reject the assignment as you like. Please note that you approve, and reject is irreversible action and approve would lead to actual payment. There is a feedback needed when rejecting the assignment and it can be seen by the worker. This could be slow, please wait will patient.](img/step6-5.png)

# Delete a Batch

![The ER model](img/database.svg)

> All the foreignkeys are set to [CASCADED](https://docs.djangoproject.com/en/4.0/ref/models/fields/#django.db.models.ForeignKey.on_delete) on delete, therefore, whenever you delete a batch, all the related tasks are also removed, so is the assignment.

![When deleting a batch, all related objects will show up on the warning page](img/step8.png)

> Thanks for your cooperation, cheers!
